<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Generator</title>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', 'Roboto', 'Open Sans', sans-serif;
        }
         
        body {
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            padding: 20px;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            margin-bottom: 20px;
            color: #1E3A8A;
        }

        /* Form Container */
        .form-container {
            width: 800px;
            background-color: #fff;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .form-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .form-section h2 {
            color: #1E3A8A;
            margin-bottom: 15px;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }

        .form-group {
            flex: 1;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #4B5563;
        }

        input, textarea, select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 14px;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        button {
            padding: 10px 20px;
            background-color: #1E3A8A;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: #172b6a;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .add-button {
            background-color: #16a34a;
            padding: 5px 10px;
            font-size: 12px;
        }

        .add-button:hover {
            background-color: #15803d;
        }

        .remove-button {
            background-color: #dc2626;
            padding: 5px 10px;
            font-size: 12px;
        }

        .remove-button:hover {
            background-color: #b91c1c;
        }

        .dynamic-list {
            margin-bottom: 10px;
        }

        .dynamic-item {
            border: 1px solid #e5e7eb;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            background-color: #f9fafb;
        }

        .file-input-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .file-input-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: #e5e7eb;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .file-input-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .file-input-preview-placeholder {
            color: #9ca3af;
            font-size: 12px;
            text-align: center;
        }

        /* CV Preview Container */
        .cv-container {
            width: 800px;
            min-height: 1120px;
            background-color: #fff;
            display: flex;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        /* Print specific styles */
        @media print {
            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            body {
                margin: 0;
                padding: 0;
                background: white;
            }

            .form-container, h1, .print-button-container {
                display: none;
            }

            .cv-container {
                box-shadow: none;
                width: 100%;
                break-inside: avoid;
            }
        }

        @page {
            size: A4;
            margin: 0;
        }
        
        /* Left Sidebar */
        .sidebar {
            width: 250px;
            background-color: #1E3A8A;
            color: #fff;
            padding: 30px;
            height: auto;
            flex-shrink: 0;
        }
        
        /* Photo container */
        .photo-container {
            width: 140px;
            height: 140px;
            margin: 20px auto 40px;
            position: relative;
        }
        
        .photo-outer {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background-color: #1E3A8A;
            border: 2px solid #fff;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .photo {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            background-color: #F3F4F6;
            overflow: hidden;
        }
        
        /* Profile info */
        .profile-name {
            font-size: 28px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 5px;
        }
        
        .profile-title {
            font-size: 14px;
            font-weight: 400;
            text-align: center;
            margin-top: 10px;
        }
        
        .accent-bar {
            width: 100px;
            height: 2px;
            background-color: #60A5FA;
            margin: 5px auto 10px;
        }
        
        /* Section headers */
        .sidebar-section {
            margin-top: 30px;
        }
        
        .sidebar-header {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .sidebar-accent {
            width: 60px;
            height: 2px;
            background-color: #60A5FA;
            margin-bottom: 15px;
        }
        
        /* Contact info */
        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .contact-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #60A5FA;
            margin-right: 10px;
        }
        
        .contact-text {
            font-size: 12px;
        }
        
        /* Skills section */
        .skill-item {
            margin-bottom: 15px;
        }
        
        .skill-name {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .skill-bar-bg {
            width: 170px;
            height: 10px;
            background-color: #374151;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        
        .skill-bar-fill {
            height: 100%;
            background-color: #60A5FA;
            border-radius: 5px;
        }
        
        .skill-details {
            font-size: 10px;
            color: #E5E7EB;
        }
        
        /* Language section */
        .language-item {
            margin-bottom: 15px;
        }
        
        .language-name {
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .language-bar-bg {
            width: 170px;
            height: 6px;
            background-color: #374151;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .language-bar-fill {
            height: 100%;
            background-color: #60A5FA;
            border-radius: 3px;
        }
        
        /* Main content area */
        .main-content {
            flex: 1;
            padding: 40px;
            height: auto;
        }
                
        .main-section {
            margin-bottom: 30px;
        }
        
        .main-header {
            color: #1E3A8A;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .main-accent {
            width: 100px;
            height: 3px;
            background-color: #60A5FA;
            margin-bottom: 20px;
        }
        
        /* Professional Summary */
        .summary-text {
            font-size: 12px;
            line-height: 1.5;
            color: #1F2937;
            margin-bottom: 15px;
        }
        
        /* Experience Section */
        .experience-item {
            margin-bottom: 25px;
        }
        
        .experience-title {
            font-size: 14px;
            font-weight: 600;
            color: #1F2937;
        }
        
        .experience-company {
            font-size: 12px;
            font-weight: 500;
            color: #4B5563;
            margin-bottom: 10px;
        }
        
        .bullet-list {
            list-style: none;
        }
        
        .bullet-item {
            display: flex;
            margin-bottom: 10px;
        }
        
        .bullet {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #60A5FA;
            margin-right: 10px;
            margin-top: 5px;
        }
        
        .bullet-text {
            font-size: 12px;
            color: #1F2937;
        }
        
        /* Education Section */
        .education-item {
            margin-bottom: 20px;
        }
        
        .education-degree {
            font-size: 14px;
            font-weight: 600;
            color: #1F2937;
        }
        
        .education-school {
            font-size: 12px;
            font-weight: 500;
            color: #4B5563;
        }

        .print-button-container {
            margin-bottom: 30px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>CV Generator</h1>
    
    <!-- Form Container -->
    <div class="form-container">
        <form id="cv-form">
            <!-- Personal Information -->
            <div class="form-section">
                <h2>Personal Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" name="fullName" value="Johny row" required>
                    </div>
                    <div class="form-group">
                        <label for="jobTitle">Job Title</label>
                        <input type="text" id="jobTitle" name="jobTitle" value="Software Engineer" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group file-input-container">
                        <div class="file-input-preview" id="photoPreview">
                            <div class="file-input-preview-placeholder">
                                Upload Photo
                            </div>
                        </div>
                        <div>
                            <label for="profilePhoto">Profile Photo</label>
                            <input type="file" id="profilePhoto" name="profilePhoto" accept="image/*">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Contact Information -->
            <div class="form-section">
                <h2>Contact Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="location">Location</label>
                        <input type="text" id="location" name="location" value="London, Czech Republic">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" value="johnyrow@gmail.com" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="linkedin">LinkedIn</label>
                        <input type="text" id="linkedin" name="linkedin" value="linkedin.com/in/johnyrow">
                    </div>
                    <div class="form-group">
                        <label for="github">Github</label>
                        <input type="text" id="github" name="github" value="github.com/johnyrow>
                    </div>
                </div>
            </div>
            
            <!-- Professional Summary -->
            <div class="form-section">
                <h2>Professional Summary</h2>
                <div class="form-group">
                    <label for="professionalSummary">Summary</label>
                    <textarea id="professionalSummary" name="professionalSummary" required>Results-driven Software Engineer with 5+ years of progressive experience in full-stack development. Expert in JavaScript ecosystems (React, Node.js) with a proven track record of optimizing complex applications and delivering enterprise-grade solutions. Demonstrated 30-60% efficiency improvements through automation and performance tuning.

Currently advancing toward senior-level responsibilities with specialized expertise in application architecture, CI/CD implementation, and containerization technologies.</textarea>
                </div>
            </div>
            
            <!-- Technical Skills -->
            <div class="form-section">
                <h2>Technical Skills</h2>
                <div id="skills-container" class="dynamic-list">
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Skill Category</label>
                                <input type="text" name="skillCategory" value="Frontend">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="skillProficiency" min="0" max="100" value="88">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <input type="text" name="skillDetails" value="JavaScript, React, Angular">
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Skill Category</label>
                                <input type="text" name="skillCategory" value="Backend">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="skillProficiency" min="0" max="100" value="82">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <input type="text" name="skillDetails" value="Node.js, Express, REST APIs">
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Skill Category</label>
                                <input type="text" name="skillCategory" value="DevOps">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="skillProficiency" min="0" max="100" value="70">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <input type="text" name="skillDetails" value="Docker, GitHub Actions, CI/CD">
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Skill Category</label>
                                <input type="text" name="skillCategory" value="Databases">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="skillProficiency" min="0" max="100" value="76">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <input type="text" name="skillDetails" value="MySQL, MongoDB">
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Skill Category</label>
                                <input type="text" name="skillCategory" value="Cloud">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="skillProficiency" min="0" max="100" value="60">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <input type="text" name="skillDetails" value="AWS, GCP (Basic)">
                        </div>
                    </div>
                </div>
                <button type="button" id="add-skill" class="add-button">+ Add Skill</button>
            </div>
            
            <!-- Languages -->
            <div class="form-section">
                <h2>Languages</h2>
                <div id="languages-container" class="dynamic-list">
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Language</label>
                                <input type="text" name="languageName" value="English">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="languageProficiency" min="0" max="100" value="100">
                            </div>
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Language</label>
                                <input type="text" name="languageName" value="Hindi">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="languageProficiency" min="0" max="100" value="100">
                            </div>
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Language</label>
                                <input type="text" name="languageName" value="Norwegian">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="languageProficiency" min="0" max="100" value="70">
                            </div>
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Language</label>
                                <input type="text" name="languageName" value="Czech">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="languageProficiency" min="0" max="100" value="70">
                            </div>
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Language</label>
                                <input type="text" name="languageName" value="German">
                            </div>
                            <div class="form-group">
                                <label>Proficiency (%)</label>
                                <input type="number" name="languageProficiency" min="0" max="100" value="60">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" id="add-language" class="add-button">+ Add Language</button>
            </div>
            
            <!-- Work Experience -->
            <div class="form-section">
                <h2>Work Experience</h2>
                <div id="experience-container" class="dynamic-list">
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Job Title</label>
                                <input type="text" name="jobTitle" value="Software Engineer">
                            </div>
                            <div class="form-group">
                                <label>Company</label>
                                <input type="text" name="company" value="DHI ITS, Prague (CZ)">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Period</label>
                                <input type="text" name="period" value="Sep 2022 - Present">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Responsibilities (one per line)</label>
                            <textarea name="responsibilities">Contributed to SBF (Server Build Forms) application, implementing critical functionality for server configuration.
Developed and enhanced features for the Port Allocation Tool, improving data center resource management and allocation efficiency
Successfully navigated and modified complex codebases to deliver high-quality feature implementations that met business requirements
Collaborated with senior developers and stakeholders to troubleshoot issues and implement solutions for enterprise-level applications
Implemented CI/CD pipelines using GitHub Actions, reducing deployment time by 35%
Containerized applications with Docker, improving deployment consistency across environments</textarea>
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Job Title</label>
                                <input type="text" name="jobTitle" value="Application Support Analyst">
                            </div>
                            <div class="form-group">
                                <label>Company</label>
                                <input type="text" name="company" value="DHI ITS, Prague (CZ)">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Period</label>
                                <input type="text" name="period" value="Jan 2022 - Aug 2022">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Responsibilities (one per line)</label>
                            <textarea name="responsibilities">Automated data validation processes, reducing manual effort by 60%
Developed server monitoring scripts that decreased system downtime by 30%
Created Bash scripts to streamline routine maintenance tasks and data verification processes</textarea>
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Job Title</label>
                                <input type="text" name="jobTitle" value="IT Service Desk Analyst (Norwegian)">
                            </div>
                            <div class="form-group">
                                <label>Company</label>
                                <input type="text" name="company" value="DHI ITS, Prague (CZ)">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Period</label>
                                <input type="text" name="period" value="Sep 2019 - Dec 2021">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Responsibilities (one per line)</label>
                            <textarea name="responsibilities">Delivered technical and troubleshooting assistance for hardware, software, mobile devices, and applications
Managed a ticket queue averaging 30+ daily requests with 95% first-contact resolution rate</textarea>
                        </div>
                    </div>
                </div>
                <button type="button" id="add-experience" class="add-button">+ Add Experience</button>
            </div>
            
            <!-- Key Projects -->
            <div class="form-section">
                <h2>Key Projects</h2>
                <div id="projects-container" class="dynamic-list">
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Project Name</label>
                                <input type="text" name="projectName" value="DHL Data Management Portal (2023)">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Project Details (one per line)</label>
                            <textarea name="projectDetails">Developed a React-based front-end interface integrated with Node.js backend
Achieved 99.5% uptime and 40% improved data processing efficiency</textarea>
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Project Name</label>
                                <input type="text" name="projectName" value="Blockchain Admin Module (2022-2023)">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Project Details (one per line)</label>
                            <textarea name="projectDetails">Created a comprehensive admin dashboard for blockchain application management
Reduced administrative overhead by 40% and improved security compliance</textarea>
                        </div>
                    </div>
                </div>
                <button type="button" id="add-project" class="add-button">+ Add Project</button>
            </div>
            
            <!-- Education -->
            <div class="form-section">
                <h2>Education</h2>
                <div id="education-container" class="dynamic-list">
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Degree</label>
                                <input type="text" name="degree" value="Master in Business Administration">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>School</label>
                                <input type="text" name="school" value="Czech University of Life Science, Prague">
                            </div>
                            <div class="form-group">
                                <label>Period</label>
                                <input type="text" name="educationPeriod" value="Sep 2014 - Jun 2016">
                            </div>
                        </div>
                    </div>
                    <div class="dynamic-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Degree</label>
                                <input type="text" name="degree" value="Bachelor of Commerce with Honours">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>School</label>
                                <input type="text" name="school" value="University of Delhi, New Delhi">
                            </div>
                            <div class="form-group">
                                <label>Period</label>
                                <input type="text" name="educationPeriod" value="May 2010 - Jun 2013">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" id="add-education" class="add-button">+ Add Education</button>
            </div>
            
            <!-- Additional Information -->
            <div class="form-section">
                <h2>Additional Information</h2>
                <div class="form-group">
                    <label>Additional Details (one per line)</label>
                    <textarea id="additionalInfo" name="additionalInfo">Open to relocation to Berlin
Currently pursuing AWS Cloud Practitioner certification
Interests: Tennis, fitness, languages, traveling, cooking</textarea>
                </div>
            </div>
            
            <div class="buttons">
                <button type="button" id="generate-cv">Generate CV</button>
                <button type="reset">Reset Form</button>
            </div>
        </form>
    </div>
    
    <div class="print-button-container hidden" id="print-button-container">
        <button onclick="window.print()" id="print-button">Save as PDF / Print</button>
    </div>
    
    <!-- CV Preview Container (initially hidden) -->
    <div class="cv-container hidden" id="cv-preview"></div>
    
    <script>
        // DOM Elements
        const cvForm = document.getElementById('cv-form');
        const generateBtn = document.getElementById('generate-cv');
        const cvPreview = document.getElementById('cv-preview');
        const printButtonContainer = document.getElementById('print-button-container');
        const photoInput = document.getElementById('profilePhoto');
        const photoPreview = document.getElementById('photoPreview');
        
        // Add event listeners for dynamic elements
        document.getElementById('add-skill').addEventListener('click', () => addDynamicItem('skills-container'));
        document.getElementById('add-language').addEventListener('click', () => addDynamicItem('languages-container'));
        document.getElementById('add-experience').addEventListener('click', () => addDynamicItem('experience-container'));
        document.getElementById('add-project').addEventListener('click', () => addDynamicItem('projects-container'));
        document.getElementById('add-education').addEventListener('click', () => addDynamicItem('education-container'));
        
        // Profile photo preview
        photoInput.addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    photoPreview.innerHTML = `<img src="${e.target.result}" alt="Profile Photo">`;
                }
                reader.readAsDataURL(file);
            }
        });
        
        // Function to add dynamic items (skills, languages, experiences, etc.)
        function addDynamicItem(containerId) {
            const container = document.getElementById(containerId);
            const items = container.getElementsByClassName('dynamic-item');
            
            if (items.length > 0) {
                const clone = items[0].cloneNode(true);
                
                // Clear input values
                const inputs = clone.querySelectorAll('input, textarea');
                inputs.forEach(input => {
                    input.value = '';
                });
                
                // Add remove button if not exists
                if (!clone.querySelector('.remove-button')) {
                    const removeBtn = document.createElement('button');
                    removeBtn.type = 'button';
                    removeBtn.className = 'remove-button';
                    removeBtn.textContent = '- Remove';
                    removeBtn.onclick = function() {
                        this.parentElement.remove();
                    };
                    clone.appendChild(removeBtn);
                }
                
                container.appendChild(clone);
            }
        }
        
        // Add remove buttons to existing items
        document.querySelectorAll('.dynamic-item').forEach((item, index) => {
            // Don't add remove button to the first item of each section
            if (index > 0 || item.parentElement.querySelectorAll('.dynamic-item').length > 1) {
                if (!item.querySelector('.remove-button')) {
                    const removeBtn = document.createElement('button');
                    removeBtn.type = 'button';
                    removeBtn.className = 'remove-button';
                    removeBtn.textContent = '- Remove';
                    removeBtn.onclick = function() {
                        this.parentElement.remove();
                    };
                    item.appendChild(removeBtn);
                }
            }
        });
        
        // Reset button handling - needs to reset custom elements too
        const resetButton = document.querySelector('button[type="reset"]');
        resetButton.addEventListener('click', function(e) {
            e.preventDefault(); // Prevent default reset behavior
            
            // Reset all form fields
            cvForm.reset();
            
            // Reset photo preview
            photoPreview.innerHTML = '<div class="file-input-preview-placeholder">Upload Photo</div>';
            
            // Hide CV preview if visible
            cvPreview.classList.add('hidden');
            printButtonContainer.classList.add('hidden');
            
            // Reset dynamic items to initial state
            const containers = ['skills-container', 'languages-container', 'experience-container', 
                               'projects-container', 'education-container'];
            
            containers.forEach(containerId => {
                const container = document.getElementById(containerId);
                const items = container.querySelectorAll('.dynamic-item');
                
                // Keep only the first item for each container
                if (items.length > 1) {
                    // Save the first item
                    const firstItem = items[0];
                    
                    // Clear container
                    container.innerHTML = '';
                    
                    // Add back the first item after resetting its values
                    const inputs = firstItem.querySelectorAll('input, textarea');
                    inputs.forEach(input => {
                        // Save original input value before resetting
                        const originalValue = input.defaultValue;
                        input.value = originalValue;
                    });
                    
                    // Remove any remove button from first item
                    const removeBtn = firstItem.querySelector('.remove-button');
                    if (removeBtn) {
                        removeBtn.remove();
                    }
                    
                    // Add the cleaned first item back
                    container.appendChild(firstItem);
                }
            });
        });
        
        // Generate CV
        generateBtn.addEventListener('click', generateCV);
        
        function generateCV() {
            // Get form data
            const fullName = document.getElementById('fullName').value.toUpperCase();
            const jobTitle = document.getElementById('jobTitle').value;
            const location = document.getElementById('location').value;
            const email = document.getElementById('email').value;
            const linkedin = document.getElementById('linkedin').value;
            const github = document.getElementById('github').value;
            const summary = document.getElementById('professionalSummary').value;
            const additionalInfo = document.getElementById('additionalInfo').value;
            
            // Get photo
            let photoSrc = '';
            if (photoPreview.querySelector('img')) {
                photoSrc = photoPreview.querySelector('img').src;
            }
            
            // Build skills HTML
            let skillsHTML = '';
            document.querySelectorAll('#skills-container .dynamic-item').forEach(item => {
                const category = item.querySelector('[name="skillCategory"]').value;
                const proficiency = item.querySelector('[name="skillProficiency"]').value;
                const details = item.querySelector('[name="skillDetails"]').value;
                
                if (category) {
                    skillsHTML += `
                        <div class="skill-item">
                            <p class="skill-name">${category}</p>
                            <div class="skill-bar-bg">
                                <div class="skill-bar-fill" style="width: ${proficiency}%;"></div>
                            </div>
                            <p class="skill-details">${details}</p>
                        </div>
                    `;
                }
            });
            
            // Build languages HTML
            let languagesHTML = '';
            document.querySelectorAll('#languages-container .dynamic-item').forEach(item => {
                const language = item.querySelector('[name="languageName"]').value;
                const proficiency = item.querySelector('[name="languageProficiency"]').value;
                
                if (language) {
                    languagesHTML += `
                        <div class="language-item">
                            <p class="language-name">${language}</p>
                            <div class="language-bar-bg">
                                <div class="language-bar-fill" style="width: ${proficiency}%;"></div>
                            </div>
                        </div>
                    `;
                }
            });
            
            // Build experience HTML
            let experienceHTML = '';
            document.querySelectorAll('#experience-container .dynamic-item').forEach(item => {
                const title = item.querySelector('[name="jobTitle"]').value;
                const company = item.querySelector('[name="company"]').value;
                const period = item.querySelector('[name="period"]').value;
                const responsibilities = item.querySelector('[name="responsibilities"]').value;
                
                if (title && company) {
                    let responsibilitiesHTML = '';
                    if (responsibilities) {
                        responsibilities.split('\n').forEach(resp => {
                            if (resp.trim()) {
                                responsibilitiesHTML += `
                                    <li class="bullet-item">
                                        <div class="bullet"></div>
                                        <p class="bullet-text">${resp.trim()}</p>
                                    </li>
                                `;
                            }
                        });
                    }
                    
                    experienceHTML += `
                        <div class="experience-item">
                            <h3 class="experience-title">${title}</h3>
                            <p class="experience-company">${company} | ${period}</p>
                            <ul class="bullet-list">
                                ${responsibilitiesHTML}
                            </ul>
                        </div>
                    `;
                }
            });
            
            // Build projects HTML
            let projectsHTML = '';
            document.querySelectorAll('#projects-container .dynamic-item').forEach(item => {
                const name = item.querySelector('[name="projectName"]').value;
                const details = item.querySelector('[name="projectDetails"]').value;
                
                if (name) {
                    let detailsHTML = '';
                    if (details) {
                        details.split('\n').forEach(detail => {
                            if (detail.trim()) {
                                detailsHTML += `
                                    <li class="bullet-item">
                                        <div class="bullet"></div>
                                        <p class="bullet-text">${detail.trim()}</p>
                                    </li>
                                `;
                            }
                        });
                    }
                    
                    projectsHTML += `
                        <div class="experience-item">
                            <h3 class="experience-title">${name}</h3>
                            <ul class="bullet-list">
                                ${detailsHTML}
                            </ul>
                        </div>
                    `;
                }
            });
            
            // Build education HTML
            let educationHTML = '';
            document.querySelectorAll('#education-container .dynamic-item').forEach(item => {
                const degree = item.querySelector('[name="degree"]').value;
                const school = item.querySelector('[name="school"]').value;
                const period = item.querySelector('[name="educationPeriod"]').value;
                
                if (degree && school) {
                    educationHTML += `
                        <div class="education-item">
                            <h3 class="education-degree">${degree}</h3>
                            <p class="education-school">${school} | ${period}</p>
                        </div>
                    `;
                }
            });
            
            // Build additional info HTML
            let additionalInfoHTML = '';
            if (additionalInfo) {
                additionalInfo.split('\n').forEach(info => {
                    if (info.trim()) {
                        additionalInfoHTML += `
                            <li class="bullet-item">
                                <div class="bullet"></div>
                                <p class="bullet-text">${info.trim()}</p>
                            </li>
                        `;
                    }
                });
            }
            
            // Create professional summary HTML
            let summaryHTML = '';
            if (summary) {
                summary.split('\n\n').forEach(paragraph => {
                    if (paragraph.trim()) {
                        summaryHTML += `<p class="summary-text">${paragraph.trim()}</p>`;
                    }
                });
            }
            
            // Build the CV HTML
            const cvHTML = `
                <!-- Left Sidebar -->
                <div class="sidebar">
                    <!-- Profile Photo -->
                    <div class="photo-container">
                        <div class="photo-outer">
                            <div class="photo">
                                ${photoSrc ? `<img src="${photoSrc}" alt="Profile Photo" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">` : ''}
                            </div>
                        </div>
                    </div>
                    
                    <!-- Name and Title -->
                    <h1 class="profile-name">${fullName}</h1>
                    <div class="accent-bar"></div>
                    <p class="profile-title">${jobTitle}</p>
                    
                    <!-- Contact Information -->
                    <div class="sidebar-section">
                        <h2 class="sidebar-header">CONTACT</h2>
                        <div class="sidebar-accent"></div>
                        
                        <div class="contact-item">
                            <div class="contact-icon"></div>
                            <p class="contact-text">${location}</p>
                        </div>
                        
                        <div class="contact-item">
                            <div class="contact-icon"></div>
                            <p class="contact-text">${email}</p>
                        </div>
                        
                        <div class="contact-item">
                            <div class="contact-icon"></div>
                            <p class="contact-text">${linkedin}</p>
                        </div>
                        
                        <div class="contact-item">
                            <div class="contact-icon"></div>
                            <p class="contact-text">${github}</p>
                        </div>
                    </div>
                    
                    <!-- Technical Skills -->
                    <div class="sidebar-section">
                        <h2 class="sidebar-header">TECHNICAL SKILLS</h2>
                        <div class="sidebar-accent"></div>
                        ${skillsHTML}
                    </div>
                    
                    <!-- Languages -->
                    <div class="sidebar-section">
                        <h2 class="sidebar-header">LANGUAGES</h2>
                        <div class="sidebar-accent"></div>
                        ${languagesHTML}
                    </div>
                </div>
                
                <!-- Main Content -->
                <div class="main-content">
                    <!-- Professional Summary -->
                    <div class="main-section">
                        <h2 class="main-header">PROFESSIONAL SUMMARY</h2>
                        <div class="main-accent"></div>
                        ${summaryHTML}
                    </div>
                    
                    <!-- Work Experience -->
                    <div class="main-section">
                        <h2 class="main-header">WORK EXPERIENCE</h2>
                        <div class="main-accent"></div>
                        ${experienceHTML}
                    </div>
                    
                    <!-- Key Projects -->
                    <div class="main-section">
                        <h2 class="main-header">KEY PROJECTS</h2>
                        <div class="main-accent"></div>
                        ${projectsHTML}
                    </div>
                    
                    <!-- Education -->
                    <div class="main-section">
                        <h2 class="main-header">EDUCATION</h2>
                        <div class="main-accent"></div>
                        ${educationHTML}
                    </div>
                    
                    <!-- Additional Information -->
                    <div class="main-section">
                        <h2 class="main-header">ADDITIONAL INFORMATION</h2>
                        <div class="main-accent"></div>
                        <ul class="bullet-list">
                            ${additionalInfoHTML}
                        </ul>
                    </div>
                </div>
            `;
            
            // Display the CV preview
            cvPreview.innerHTML = cvHTML;
            cvPreview.classList.remove('hidden');
            printButtonContainer.classList.remove('hidden');
            
            // Scroll to CV preview
            cvPreview.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>