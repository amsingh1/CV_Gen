<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Builder - Import & Edit</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
            min-height: calc(100vh - 40px);
        }

        .editor-panel {
            flex: 1;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow-y: auto;
            max-height: calc(100vh - 40px);
        }

        .preview-panel {
            flex: 1;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow-y: auto;
            max-height: calc(100vh - 40px);
        }

        .panel-header {
            background: linear-gradient(135deg, #1E3A8A, #3B82F6);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .import-export-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1E3A8A, #3B82F6);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6B7280, #9CA3AF);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #059669, #10B981);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .form-section {
            background: #f8fafc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #3B82F6;
        }

        .form-section h3 {
            color: #1E3A8A;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #374151;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #3B82F6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .dynamic-list {
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
        }

        .dynamic-item {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            position: relative;
        }

        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 12px;
        }

        .add-btn {
            background: #10b981;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
        }

        .file-input-wrapper {
            position: relative;
            display: inline-block;
            overflow: hidden;
            background: linear-gradient(135deg, #059669, #10B981);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .file-input-wrapper:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        /* CV Preview Styles */
        .cv-preview {
            transform: scale(0.8);
            transform-origin: top;
            width: 125%;
        }

        .cv-container {
            width: 800px;
            min-height: 1120px;
            background-color: #fff;
            display: flex;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin: 0 auto;
        }

        .sidebar {
            width: 250px;
            background-color: #1E3A8A;
            color: #fff;
            padding: 30px;
            flex-shrink: 0;
        }

        .photo-container {
            width: 140px;
            height: 140px;
            margin: 20px auto 40px;
        }

        .photo-outer {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background-color: #1E3A8A;
            border: 2px solid #fff;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .photo {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            background-color: #F3F4F6;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6B7280;
            font-size: 12px;
        }

        .profile-name {
            font-size: 28px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 5px;
        }

        .profile-title {
            font-size: 14px;
            text-align: center;
            margin-top: 10px;
        }

        .accent-bar {
            width: 100px;
            height: 2px;
            background-color: #60A5FA;
            margin: 5px auto 10px;
        }

        .sidebar-section {
            margin-top: 30px;
        }

        .sidebar-header {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .sidebar-accent {
            width: 60px;
            height: 2px;
            background-color: #60A5FA;
            margin-bottom: 15px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .contact-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #60A5FA;
            margin-right: 10px;
        }

        .contact-text {
            font-size: 12px;
        }

        .skill-item, .language-item {
            margin-bottom: 15px;
        }

        .skill-name, .language-name {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .skill-bar-bg, .language-bar-bg {
            width: 170px;
            height: 10px;
            background-color: #374151;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .skill-bar-fill, .language-bar-fill {
            height: 100%;
            background-color: #60A5FA;
            border-radius: 5px;
        }

        .skill-details {
            font-size: 10px;
            color: #E5E7EB;
        }

        .main-content {
            flex: 1;
            padding: 40px;
        }

        .main-section {
            margin-bottom: 30px;
        }

        .main-header {
            color: #1E3A8A;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .main-accent {
            width: 100px;
            height: 3px;
            background-color: #60A5FA;
            margin-bottom: 20px;
        }

        .summary-text {
            font-size: 12px;
            line-height: 1.5;
            color: #1F2937;
            margin-bottom: 15px;
        }

        .experience-item, .education-item {
            margin-bottom: 25px;
        }

        .experience-title, .education-degree {
            font-size: 14px;
            font-weight: 600;
            color: #1F2937;
        }

        .experience-company, .education-school {
            font-size: 12px;
            font-weight: 500;
            color: #4B5563;
            margin-bottom: 10px;
        }

        .bullet-list {
            list-style: none;
        }

        .bullet-item {
            display: flex;
            margin-bottom: 10px;
        }

        .bullet {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #60A5FA;
            margin-right: 10px;
            margin-top: 5px;
            flex-shrink: 0;
        }

        .bullet-text {
            font-size: 12px;
            color: #1F2937;
        }

        /* Enhanced Print Styles for PDF Generation */
        @media print {
            @page {
                size: A4;
                margin: 0;
            }
            
            * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            html, body {
                background: white !important;
                padding: 0 !important;
                margin: 0 !important;
                width: 100% !important;
                height: 100% !important;
            }
            
            .container {
                display: block !important;
                max-width: none !important;
                min-height: auto !important;
                margin: 0 !important;
                padding: 0 !important;
                width: 100% !important;
                height: 100% !important;
                background: white !important;
            }
            
            .editor-panel {
                display: none !important;
            }
            
            .preview-panel {
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background: white !important;
                max-height: none !important;
                overflow: visible !important;
                width: 100% !important;
                height: 100% !important;
            }
            
            .cv-preview {
                transform: none !important;
                width: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
                height: 100% !important;
            }
            
            .panel-header {
                display: none !important;
            }
            
            .cv-container {
                box-shadow: none !important;
                margin: 0 !important;
                width: 100% !important;
                max-width: none !important;
                min-height: 100vh !important;
                page-break-inside: avoid !important;
                background: white !important;
            }
            
            /* Force colors in print */
            .sidebar {
                background-color: #1E3A8A !important;
                background: #1E3A8A !important;
                color: #ffffff !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .accent-bar, .sidebar-accent {
                background-color: #60A5FA !important;
                background: #60A5FA !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .main-accent {
                background-color: #60A5FA !important;
                background: #60A5FA !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .contact-icon, .bullet {
                background-color: #60A5FA !important;
                background: #60A5FA !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .skill-bar-fill, .language-bar-fill {
                background-color: #60A5FA !important;
                background: #60A5FA !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .skill-bar-bg, .language-bar-bg {
                background-color: #374151 !important;
                background: #374151 !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .main-header {
                color: #1E3A8A !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .photo-outer {
                border: 2px solid #ffffff !important;
                background-color: #1E3A8A !important;
                background: #1E3A8A !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .profile-name, .sidebar-header, .contact-text, .skill-name, .language-name, .skill-details {
                color: #ffffff !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Editor Panel -->
        <div class="editor-panel">
            <div class="panel-header">
                <h2>CV Editor</h2>
            </div>

            <!-- Import/Export Controls -->
            <div class="import-export-controls">
                <label for="importFile" class="file-input-wrapper" title="Import data in JSON or HTML format only">
                    <input type="file" id="importFile" accept=".json,.html,.htm" />
                    Import CV
                </label>
                <button class="btn btn-secondary" id="exportBtn" title="Click to export sample data that you can use to check the format">Export Data</button>
                <button class="btn btn-primary" id="printBtn">Print/Save PDF</button>
            </div>

            <!-- Personal Information -->
            <div class="form-section">
                <h3>Personal Information</h3>
                <div class="form-group">
                    <label>Profile Photo</label>
                    <input type="file" id="photoInput" accept="image/*" style="margin-bottom: 10px;" />
                    <button type="button" id="removePhotoBtn" class="btn" style="background: #ef4444; color: white; padding: 5px 10px; font-size: 12px; margin-left: 10px; display: none;">Remove Photo</button>
                    <div id="photoPreviewContainer" style="margin-top: 10px; display: none;">
                        <img id="photoPreviewImg" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 2px solid #e5e7eb;" />
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="fullName" placeholder="John Doe" />
                    </div>
                    <div class="form-group">
                        <label>Job Title</label>
                        <input type="text" id="jobTitle" placeholder="Software Engineer" />
                    </div>
                </div>
                <div class="form-group">
                    <label>Professional Summary</label>
                    <textarea id="summary" placeholder="Brief professional summary..."></textarea>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="form-section">
                <h3>Contact Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="location" placeholder="City, Country" />
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="email" placeholder="email@example.com" />
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>LinkedIn</label>
                        <input type="text" id="linkedin" placeholder="linkedin.com/in/username" />
                    </div>
                    <div class="form-group">
                        <label>GitHub</label>
                        <input type="text" id="github" placeholder="github.com/username" />
                    </div>
                </div>
            </div>

            <!-- Work Experience -->
            <div class="form-section">
                <h3>Work Experience</h3>
                <div id="experienceList" class="dynamic-list">
                    <!-- Experience items will be added here -->
                </div>
                <button class="add-btn" id="addExperienceBtn">+ Add Experience</button>
            </div>

            <!-- Education -->
            <div class="form-section">
                <h3>Education</h3>
                <div id="educationList" class="dynamic-list">
                    <!-- Education items will be added here -->
                </div>
                <button class="add-btn" id="addEducationBtn">+ Add Education</button>
            </div>

            <!-- Skills -->
            <div class="form-section">
                <h3>Technical Skills</h3>
                <div id="skillsList" class="dynamic-list">
                    <!-- Skills will be added here -->
                </div>
                <button class="add-btn" id="addSkillBtn">+ Add Skill</button>
            </div>

            <!-- Languages -->
            <div class="form-section">
                <h3>Languages</h3>
                <div id="languagesList" class="dynamic-list">
                    <!-- Languages will be added here -->
                </div>
                <button class="add-btn" id="addLanguageBtn">+ Add Language</button>
            </div>

            <!-- Projects -->
            <div class="form-section">
                <h3>Key Projects</h3>
                <div id="projectsList" class="dynamic-list">
                    <!-- Projects will be added here -->
                </div>
                <button class="add-btn" id="addProjectBtn">+ Add Project</button>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel">
            <div class="panel-header">
                <h2>CV Preview</h2>
            </div>
            
            <div class="cv-preview">
                <div class="cv-container">
                    <!-- Left Sidebar -->
                    <div class="sidebar">
                        <div class="photo-container">
                            <div class="photo-outer">
                                <div class="photo" id="photoPreview">
                                    No Photo
                                </div>
                            </div>
                        </div>
                        
                        <h1 class="profile-name" id="namePreview">YOUR NAME</h1>
                        <div class="accent-bar"></div>
                        <p class="profile-title" id="titlePreview">Your Job Title</p>
                        
                        <!-- Contact Information -->
                        <div class="sidebar-section" id="contactSection">
                            <h2 class="sidebar-header">CONTACT</h2>
                            <div class="sidebar-accent"></div>
                            <div id="contactPreview"></div>
                        </div>
                        
                        <!-- Technical Skills -->
                        <div class="sidebar-section" id="skillsSection">
                            <h2 class="sidebar-header">TECHNICAL SKILLS</h2>
                            <div class="sidebar-accent"></div>
                            <div id="skillsPreview"></div>
                        </div>
                        
                        <!-- Languages -->
                        <div class="sidebar-section" id="languagesSection">
                            <h2 class="sidebar-header">LANGUAGES</h2>
                            <div class="sidebar-accent"></div>
                            <div id="languagesPreview"></div>
                        </div>
                    </div>
                    
                    <!-- Main Content -->
                    <div class="main-content">
                        <!-- Professional Summary -->
                        <div class="main-section" id="summarySection">
                            <h2 class="main-header">PROFESSIONAL SUMMARY</h2>
                            <div class="main-accent"></div>
                            <div id="summaryPreview"></div>
                        </div>
                        
                        <!-- Work Experience -->
                        <div class="main-section" id="experienceSection">
                            <h2 class="main-header">WORK EXPERIENCE</h2>
                            <div class="main-accent"></div>
                            <div id="experiencePreview"></div>
                        </div>
                        
                        <!-- Key Projects -->
                        <div class="main-section" id="projectsSection">
                            <h2 class="main-header">KEY PROJECTS</h2>
                            <div class="main-accent"></div>
                            <div id="projectsPreview"></div>
                        </div>
                        
                        <!-- Education -->
                        <div class="main-section" id="educationSection">
                            <h2 class="main-header">EDUCATION</h2>
                            <div class="main-accent"></div>
                            <div id="educationPreview"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global CV data object
        let cvData = {
            personal: {
                fullName: '',
                jobTitle: '',
                summary: '',
                photo: null
            },
            contact: {
                location: '',
                email: '',
                linkedin: '',
                github: ''
            },
            experience: [],
            education: [],
            skills: [],
            languages: [],
            projects: []
        };

        // Initialize with sample data
        function initializeSampleData() {
            cvData = {
                personal: {
                    fullName: 'Name Surname',
                    jobTitle: 'Software Engineer',
                    summary: 'Write the summary',
                    photo: null
                },
                contact: {
                    location: 'city, Planet Earth',
                    email: 'myname@gmail.com',
                    linkedin: 'linkedin.com/in/youname',
                    github: 'github.com/yourname'
                },
                experience: [
                    {
                        title: 'Software Engineer',
                        company: 'mycompany, london | Sep 2022 - Present',
                        responsibilities: [
                            'did a great job',
                            'Implemented a new feature that improved user engagement by 30%',               ]
                    }
                ],
                education: [
                    {
                        degree: 'Master in Business Administration',
                        school: 'Perfect University of Life Science, place | Sep 2014 - Jun 2016'
                    }
                ],
                skills: [
                    { name: 'Frontend', level: 88, details: 'JavaScript, React, Angular' },
                    { name: 'Backend', level: 82, details: 'Node.js, Express, REST APIs' }
                ],
                languages: [
                    { name: 'English', level: 100 }
                ],
                projects: [
                    {
                        title: 'Data Management Portal (2023)',
                        description: [
                            'Developed a React-based front-end interface integrated with Node.js backend',
                            'Achieved 99.5% uptime and 40% improved data processing efficiency'
                        ]
                    }
                ]
            };
            
            populateForm();
            updatePreview();
        }

        // Update preview function
        function updatePreview() {
            // Update personal info from form
            cvData.personal.fullName = document.getElementById('fullName').value;
            cvData.personal.jobTitle = document.getElementById('jobTitle').value;
            cvData.personal.summary = document.getElementById('summary').value;
            
            // Update contact from form
            cvData.contact.location = document.getElementById('location').value;
            cvData.contact.email = document.getElementById('email').value;
            cvData.contact.linkedin = document.getElementById('linkedin').value;
            cvData.contact.github = document.getElementById('github').value;
            
            // Update preview elements
            document.getElementById('namePreview').textContent = cvData.personal.fullName || 'YOUR NAME';
            document.getElementById('titlePreview').textContent = cvData.personal.jobTitle || 'Your Job Title';
            
            // Update photo
            const photoPreview = document.getElementById('photoPreview');
            if (cvData.personal.photo) {
                photoPreview.innerHTML = `<img src="${cvData.personal.photo}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" alt="Profile Photo" />`;
            } else {
                photoPreview.innerHTML = 'No Photo';
            }
            
            // Update summary
            const summaryPreview = document.getElementById('summaryPreview');
            const summarySection = document.getElementById('summarySection');
            if (cvData.personal.summary && cvData.personal.summary.trim()) {
                summaryPreview.innerHTML = `<p class="summary-text">${cvData.personal.summary}</p>`;
                summarySection.style.display = 'block';
            } else {
                summarySection.style.display = 'none';
            }
            
            // Update contact with conditional display
            const contactPreview = document.getElementById('contactPreview');
            const contactSection = document.getElementById('contactSection');
            const contactData = [
                { label: 'Location', value: cvData.contact.location },
                { label: 'Email', value: cvData.contact.email },
                { label: 'LinkedIn', value: cvData.contact.linkedin },
                { label: 'GitHub', value: cvData.contact.github }
            ];
            
            const validContacts = contactData.filter(contact => contact.value && contact.value.trim());
            
            if (validContacts.length > 0) {
                contactPreview.innerHTML = validContacts.map(contact => `
                    <div class="contact-item">
                        <div class="contact-icon"></div>
                        <p class="contact-text">${contact.value}</p>
                    </div>
                `).join('');
                contactSection.style.display = 'block';
            } else {
                contactSection.style.display = 'none';
            }
            
            // Update skills with conditional display
            const skillsPreview = document.getElementById('skillsPreview');
            const skillsSection = document.getElementById('skillsSection');
            const validSkills = cvData.skills.filter(skill => skill.name && skill.name.trim());
            
            if (validSkills.length > 0) {
                skillsPreview.innerHTML = validSkills.map(skill => `
                    <div class="skill-item">
                        <p class="skill-name">${skill.name}</p>
                        <div class="skill-bar-bg">
                            <div class="skill-bar-fill" style="width: ${skill.level}%;"></div>
                        </div>
                        <p class="skill-details">${skill.details || ''}</p>
                    </div>
                `).join('');
                skillsSection.style.display = 'block';
            } else {
                skillsSection.style.display = 'none';
            }
            
            // Update languages with conditional display
            const languagesPreview = document.getElementById('languagesPreview');
            const languagesSection = document.getElementById('languagesSection');
            const validLanguages = cvData.languages.filter(lang => lang.name && lang.name.trim());
            
            if (validLanguages.length > 0) {
                languagesPreview.innerHTML = validLanguages.map(lang => `
                    <div class="language-item">
                        <p class="language-name">${lang.name}</p>
                        <div class="language-bar-bg">
                            <div class="language-bar-fill" style="width: ${lang.level}%;"></div>
                        </div>
                    </div>
                `).join('');
                languagesSection.style.display = 'block';
            } else {
                languagesSection.style.display = 'none';
            }
            
            // Update experience with conditional display
            const experiencePreview = document.getElementById('experiencePreview');
            const experienceSection = document.getElementById('experienceSection');
            const validExperience = cvData.experience.filter(exp => exp.title && exp.title.trim());
            
            if (validExperience.length > 0) {
                experiencePreview.innerHTML = validExperience.map(exp => `
                    <div class="experience-item">
                        <h3 class="experience-title">${exp.title}</h3>
                        <p class="experience-company">${exp.company}</p>
                        <ul class="bullet-list">
                            ${exp.responsibilities.filter(r => r.trim()).map(resp => `
                                <li class="bullet-item">
                                    <div class="bullet"></div>
                                    <p class="bullet-text">${resp}</p>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `).join('');
                experienceSection.style.display = 'block';
            } else {
                experienceSection.style.display = 'none';
            }
            
            // Update projects with conditional display
            const projectsPreview = document.getElementById('projectsPreview');
            const projectsSection = document.getElementById('projectsSection');
            const validProjects = cvData.projects.filter(project => project.title && project.title.trim());
            
            if (validProjects.length > 0) {
                projectsPreview.innerHTML = validProjects.map(project => `
                    <div class="experience-item">
                        <h3 class="experience-title">${project.title}</h3>
                        <ul class="bullet-list">
                            ${project.description.filter(d => d.trim()).map(desc => `
                                <li class="bullet-item">
                                    <div class="bullet"></div>
                                    <p class="bullet-text">${desc}</p>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `).join('');
                projectsSection.style.display = 'block';
            } else {
                projectsSection.style.display = 'none';
            }
            
            // Update education with conditional display
            const educationPreview = document.getElementById('educationPreview');
            const educationSection = document.getElementById('educationSection');
            const validEducation = cvData.education.filter(edu => edu.degree && edu.degree.trim());
            
            if (validEducation.length > 0) {
                educationPreview.innerHTML = validEducation.map(edu => `
                    <div class="education-item">
                        <h3 class="education-degree">${edu.degree}</h3>
                        <p class="education-school">${edu.school}</p>
                    </div>
                `).join('');
                educationSection.style.display = 'block';
            } else {
                educationSection.style.display = 'none';
            }
        }

        // Populate form with current data
        function populateForm() {
            // Personal info
            document.getElementById('fullName').value = cvData.personal.fullName;
            document.getElementById('jobTitle').value = cvData.personal.jobTitle;
            document.getElementById('summary').value = cvData.personal.summary;
            
            // Update photo preview in form
            if (cvData.personal.photo) {
                document.getElementById('photoPreviewContainer').style.display = 'block';
                document.getElementById('photoPreviewImg').src = cvData.personal.photo;
                document.getElementById('removePhotoBtn').style.display = 'inline-block';
            } else {
                document.getElementById('photoPreviewContainer').style.display = 'none';
                document.getElementById('removePhotoBtn').style.display = 'none';
            }
            
            // Contact info
            document.getElementById('location').value = cvData.contact.location;
            document.getElementById('email').value = cvData.contact.email;
            document.getElementById('linkedin').value = cvData.contact.linkedin;
            document.getElementById('github').value = cvData.contact.github;
            
            // Clear and repopulate dynamic sections
            document.getElementById('experienceList').innerHTML = '';
            document.getElementById('educationList').innerHTML = '';
            document.getElementById('skillsList').innerHTML = '';
            document.getElementById('languagesList').innerHTML = '';
            document.getElementById('projectsList').innerHTML = '';
            
            // Populate experience
            cvData.experience.forEach(exp => {
                addExperienceItem(exp);
            });
            
            // Populate education
            cvData.education.forEach(edu => {
                addEducationItem(edu);
            });
            
            // Populate skills
            cvData.skills.forEach(skill => {
                addSkillItem(skill);
            });
            
            // Populate languages
            cvData.languages.forEach(lang => {
                addLanguageItem(lang);
            });
            
            // Populate projects
            cvData.projects.forEach(project => {
                addProjectItem(project);
            });
        }

        // Add experience item
        function addExperienceItem(data = null) {
            const container = document.getElementById('experienceList');
            
            if (!data) {
                data = {
                    title: '',
                    company: '',
                    responsibilities: ['']
                };
                cvData.experience.push(data);
            }
            
            const div = document.createElement('div');
            div.className = 'dynamic-item';
            div.innerHTML = `
                <button class="remove-btn" type="button">×</button>
                <div class="form-group">
                    <label>Job Title</label>
                    <input type="text" value="${data.title}" class="exp-title" />
                </div>
                <div class="form-group">
                    <label>Company & Duration</label>
                    <input type="text" value="${data.company}" class="exp-company" />
                </div>
                <div class="form-group">
                    <label>Responsibilities</label>
                    <div class="responsibilities-list">
                        ${data.responsibilities.map(resp => `
                            <div class="resp-item" style="display: flex; gap: 10px; margin-bottom: 10px;">
                                <textarea placeholder="Responsibility..." class="resp-text">${resp}</textarea>
                                <button type="button" class="remove-resp-btn" style="background: #ef4444; color: white; border: none; border-radius: 4px; padding: 5px 8px; cursor: pointer;">×</button>
                            </div>
                        `).join('')}
                    </div>
                    <button type="button" class="add-resp-btn" style="background: #10b981; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer; font-size: 12px;">+ Add Responsibility</button>
                </div>
            `;
            
            container.appendChild(div);
            
            // Add event listeners
            const removeBtn = div.querySelector('.remove-btn');
            const titleInput = div.querySelector('.exp-title');
            const companyInput = div.querySelector('.exp-company');
            const addRespBtn = div.querySelector('.add-resp-btn');
            
            removeBtn.addEventListener('click', () => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.experience.splice(itemIndex, 1);
                div.remove();
                updatePreview();
            });
            
            titleInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.experience[itemIndex].title = e.target.value;
                updatePreview();
            });
            
            companyInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.experience[itemIndex].company = e.target.value;
                updatePreview();
            });
            
            addRespBtn.addEventListener('click', () => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.experience[itemIndex].responsibilities.push('');
                addResponsibilityField(div, itemIndex);
                updatePreview();
            });
            
            // Add listeners for existing responsibility fields
            updateResponsibilityListeners(div);
        }
        
        function addResponsibilityField(parentDiv, expIndex) {
            const respList = parentDiv.querySelector('.responsibilities-list');
            const respDiv = document.createElement('div');
            respDiv.className = 'resp-item';
            respDiv.style.cssText = 'display: flex; gap: 10px; margin-bottom: 10px;';
            respDiv.innerHTML = `
                <textarea placeholder="Responsibility..." class="resp-text"></textarea>
                <button type="button" class="remove-resp-btn" style="background: #ef4444; color: white; border: none; border-radius: 4px; padding: 5px 8px; cursor: pointer;">×</button>
            `;
            respList.appendChild(respDiv);
            updateResponsibilityListeners(parentDiv);
        }
        
        function updateResponsibilityListeners(parentDiv) {
            const container = document.getElementById('experienceList');
            const itemIndex = Array.from(container.children).indexOf(parentDiv);
            const respItems = parentDiv.querySelectorAll('.resp-item');
            
            respItems.forEach((respItem, respIndex) => {
                const textarea = respItem.querySelector('.resp-text');
                const removeBtn = respItem.querySelector('.remove-resp-btn');
                
                // Remove old listeners by cloning
                const newTextarea = textarea.cloneNode(true);
                const newRemoveBtn = removeBtn.cloneNode(true);
                textarea.replaceWith(newTextarea);
                removeBtn.replaceWith(newRemoveBtn);
                
                newTextarea.addEventListener('input', (e) => {
                    cvData.experience[itemIndex].responsibilities[respIndex] = e.target.value;
                    updatePreview();
                });
                
                newRemoveBtn.addEventListener('click', () => {
                    cvData.experience[itemIndex].responsibilities.splice(respIndex, 1);
                    respItem.remove();
                    updateResponsibilityListeners(parentDiv);
                    updatePreview();
                });
            });
        }

        // Add education item
        function addEducationItem(data = null) {
            const container = document.getElementById('educationList');
            
            if (!data) {
                data = { degree: '', school: '' };
                cvData.education.push(data);
            }
            
            const div = document.createElement('div');
            div.className = 'dynamic-item';
            div.innerHTML = `
                <button class="remove-btn" type="button">×</button>
                <div class="form-group">
                    <label>Degree</label>
                    <input type="text" value="${data.degree}" class="edu-degree" />
                </div>
                <div class="form-group">
                    <label>School & Duration</label>
                    <input type="text" value="${data.school}" class="edu-school" />
                </div>
            `;
            
            container.appendChild(div);
            
            // Add event listeners
            const removeBtn = div.querySelector('.remove-btn');
            const degreeInput = div.querySelector('.edu-degree');
            const schoolInput = div.querySelector('.edu-school');
            
            removeBtn.addEventListener('click', () => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.education.splice(itemIndex, 1);
                div.remove();
                updatePreview();
            });
            
            degreeInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.education[itemIndex].degree = e.target.value;
                updatePreview();
            });
            
            schoolInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.education[itemIndex].school = e.target.value;
                updatePreview();
            });
        }

        // Add skill item
        function addSkillItem(data = null) {
            const container = document.getElementById('skillsList');
            
            if (!data) {
                data = { name: '', level: 50, details: '' };
                cvData.skills.push(data);
            }
            
            const div = document.createElement('div');
            div.className = 'dynamic-item';
            div.innerHTML = `
                <button class="remove-btn" type="button">×</button>
                <div class="form-row">
                    <div class="form-group">
                        <label>Skill Name</label>
                        <input type="text" value="${data.name}" class="skill-name" />
                    </div>
                    <div class="form-group">
                        <label>Level (0-100)</label>
                        <input type="number" min="0" max="100" value="${data.level}" class="skill-level" />
                    </div>
                </div>
                <div class="form-group">
                    <label>Details</label>
                    <input type="text" value="${data.details}" class="skill-details" placeholder="Technologies, frameworks..." />
                </div>
            `;
            
            container.appendChild(div);
            
            // Add event listeners
            const removeBtn = div.querySelector('.remove-btn');
            const nameInput = div.querySelector('.skill-name');
            const levelInput = div.querySelector('.skill-level');
            const detailsInput = div.querySelector('.skill-details');
            
            removeBtn.addEventListener('click', () => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.skills.splice(itemIndex, 1);
                div.remove();
                updatePreview();
            });
            
            nameInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.skills[itemIndex].name = e.target.value;
                updatePreview();
            });
            
            levelInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.skills[itemIndex].level = parseInt(e.target.value) || 0;
                updatePreview();
            });
            
            detailsInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.skills[itemIndex].details = e.target.value;
                updatePreview();
            });
        }

        // Add language item
        function addLanguageItem(data = null) {
            const container = document.getElementById('languagesList');
            
            if (!data) {
                data = { name: '', level: 50 };
                cvData.languages.push(data);
            }
            
            const div = document.createElement('div');
            div.className = 'dynamic-item';
            div.innerHTML = `
                <button class="remove-btn" type="button">×</button>
                <div class="form-row">
                    <div class="form-group">
                        <label>Language</label>
                        <input type="text" value="${data.name}" class="lang-name" />
                    </div>
                    <div class="form-group">
                        <label>Level (0-100)</label>
                        <input type="number" min="0" max="100" value="${data.level}" class="lang-level" />
                    </div>
                </div>
            `;
            
            container.appendChild(div);
            
            // Add event listeners
            const removeBtn = div.querySelector('.remove-btn');
            const nameInput = div.querySelector('.lang-name');
            const levelInput = div.querySelector('.lang-level');
            
            removeBtn.addEventListener('click', () => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.languages.splice(itemIndex, 1);
                div.remove();
                updatePreview();
            });
            
            nameInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.languages[itemIndex].name = e.target.value;
                updatePreview();
            });
            
            levelInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.languages[itemIndex].level = parseInt(e.target.value) || 0;
                updatePreview();
            });
        }

        // Add project item
        function addProjectItem(data = null) {
            const container = document.getElementById('projectsList');
            
            if (!data) {
                data = { title: '', description: [''] };
                cvData.projects.push(data);
            }
            
            const div = document.createElement('div');
            div.className = 'dynamic-item';
            div.innerHTML = `
                <button class="remove-btn" type="button">×</button>
                <div class="form-group">
                    <label>Project Title</label>
                    <input type="text" value="${data.title}" class="proj-title" />
                </div>
                <div class="form-group">
                    <label>Description Points</label>
                    <div class="descriptions-list">
                        ${data.description.map(desc => `
                            <div class="desc-item" style="display: flex; gap: 10px; margin-bottom: 10px;">
                                <textarea placeholder="Description point..." class="desc-text">${desc}</textarea>
                                <button type="button" class="remove-desc-btn" style="background: #ef4444; color: white; border: none; border-radius: 4px; padding: 5px 8px; cursor: pointer;">×</button>
                            </div>
                        `).join('')}
                    </div>
                    <button type="button" class="add-desc-btn" style="background: #10b981; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer; font-size: 12px;">+ Add Description</button>
                </div>
            `;
            
            container.appendChild(div);
            
            // Add event listeners
            const removeBtn = div.querySelector('.remove-btn');
            const titleInput = div.querySelector('.proj-title');
            const addDescBtn = div.querySelector('.add-desc-btn');
            
            removeBtn.addEventListener('click', () => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.projects.splice(itemIndex, 1);
                div.remove();
                updatePreview();
            });
            
            titleInput.addEventListener('input', (e) => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.projects[itemIndex].title = e.target.value;
                updatePreview();
            });
            
            addDescBtn.addEventListener('click', () => {
                const itemIndex = Array.from(container.children).indexOf(div);
                cvData.projects[itemIndex].description.push('');
                addDescriptionField(div, itemIndex);
                updatePreview();
            });
            
            // Add listeners for existing description fields
            updateDescriptionListeners(div);
        }
        
        function addDescriptionField(parentDiv, projIndex) {
            const descList = parentDiv.querySelector('.descriptions-list');
            const descDiv = document.createElement('div');
            descDiv.className = 'desc-item';
            descDiv.style.cssText = 'display: flex; gap: 10px; margin-bottom: 10px;';
            descDiv.innerHTML = `
                <textarea placeholder="Description point..." class="desc-text"></textarea>
                <button type="button" class="remove-desc-btn" style="background: #ef4444; color: white; border: none; border-radius: 4px; padding: 5px 8px; cursor: pointer;">×</button>
            `;
            descList.appendChild(descDiv);
            updateDescriptionListeners(parentDiv);
        }
        
        function updateDescriptionListeners(parentDiv) {
            const container = document.getElementById('projectsList');
            const itemIndex = Array.from(container.children).indexOf(parentDiv);
            const descItems = parentDiv.querySelectorAll('.desc-item');
            
            descItems.forEach((descItem, descIndex) => {
                const textarea = descItem.querySelector('.desc-text');
                const removeBtn = descItem.querySelector('.remove-desc-btn');
                
                // Remove old listeners by cloning
                const newTextarea = textarea.cloneNode(true);
                const newRemoveBtn = removeBtn.cloneNode(true);
                textarea.replaceWith(newTextarea);
                removeBtn.replaceWith(newRemoveBtn);
                
                newTextarea.addEventListener('input', (e) => {
                    cvData.projects[itemIndex].description[descIndex] = e.target.value;
                    updatePreview();
                });
                
                newRemoveBtn.addEventListener('click', () => {
                    cvData.projects[itemIndex].description.splice(descIndex, 1);
                    descItem.remove();
                    updateDescriptionListeners(parentDiv);
                    updatePreview();
                });
            });
        }

        // Setup event listeners for form inputs
        function setupEventListeners() {
            const inputs = ['fullName', 'jobTitle', 'summary', 'location', 'email', 'linkedin', 'github'];
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', updatePreview);
            });

            // Photo upload functionality
            document.getElementById('photoInput').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    // Validate file type
                    if (!file.type.startsWith('image/')) {
                        alert('Please select a valid image file.');
                        return;
                    }
                    
                    // Validate file size (max 5MB)
                    if (file.size > 5 * 1024 * 1024) {
                        alert('Image file size should be less than 5MB.');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        cvData.personal.photo = e.target.result;
                        
                        // Update form preview
                        document.getElementById('photoPreviewContainer').style.display = 'block';
                        document.getElementById('photoPreviewImg').src = e.target.result;
                        document.getElementById('removePhotoBtn').style.display = 'inline-block';
                        
                        // Update CV preview
                        updatePreview();
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Remove photo functionality
            document.getElementById('removePhotoBtn').addEventListener('click', function() {
                cvData.personal.photo = null;
                document.getElementById('photoInput').value = '';
                document.getElementById('photoPreviewContainer').style.display = 'none';
                document.getElementById('removePhotoBtn').style.display = 'none';
                updatePreview();
            });

            // Button event listeners
            document.getElementById('addExperienceBtn').addEventListener('click', () => addExperienceItem());
            document.getElementById('addEducationBtn').addEventListener('click', () => addEducationItem());
            document.getElementById('addSkillBtn').addEventListener('click', () => addSkillItem());
            document.getElementById('addLanguageBtn').addEventListener('click', () => addLanguageItem());
            document.getElementById('addProjectBtn').addEventListener('click', () => addProjectItem());
            
            document.getElementById('exportBtn').addEventListener('click', exportData);
            document.getElementById('printBtn').addEventListener('click', () => window.print());
            
            // Import functionality - FIXED
            document.getElementById('importFile').addEventListener('change', handleFileImport);
        }

        // Fixed import function
        function handleFileImport(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            console.log('File selected:', file.name, 'Type:', file.type);
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                try {
                    const content = e.target.result;
                    console.log('File content loaded, length:', content.length);
                    
                    if (file.name.toLowerCase().endsWith('.json')) {
                        console.log('Processing JSON file...');
                        const importedData = JSON.parse(content);
                        
                        // Validate and merge data
                        cvData = {
                            personal: {
                                fullName: importedData.personal?.fullName || '',
                                jobTitle: importedData.personal?.jobTitle || '',
                                summary: importedData.personal?.summary || '',
                                photo: importedData.personal?.photo || null
                            },
                            contact: importedData.contact || { location: '', email: '', linkedin: '', github: '' },
                            experience: importedData.experience || [],
                            education: importedData.education || [],
                            skills: importedData.skills || [],
                            languages: importedData.languages || [],
                            projects: importedData.projects || []
                        };
                        
                        console.log('JSON data imported successfully');
                    } 
                    else if (file.name.toLowerCase().endsWith('.html') || file.name.toLowerCase().endsWith('.htm')) {
                        console.log('Processing HTML file...');
                        parseHTMLData(content);
                        console.log('HTML data parsed successfully');
                    }
                    else {
                        throw new Error('Unsupported file type. Please use .json or .html files.');
                    }
                    
                    // Update form and preview
                    populateForm();
                    updatePreview();
                    
                    // Reset file input
                    event.target.value = '';
                    
                    alert('CV data imported successfully!');
                    
                } catch (error) {
                    console.error('Import error:', error);
                    alert('Error importing file: ' + error.message);
                    event.target.value = '';
                }
            };
            
            reader.onerror = function() {
                console.error('File reading error');
                alert('Error reading file. Please try again.');
                event.target.value = '';
            };
            
            reader.readAsText(file);
        }

        // Export functionality
        function exportData() {
            const dataStr = JSON.stringify(cvData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'cv-data.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        // Enhanced HTML parsing function
        function parseHTMLData(htmlContent) {
            try {
                console.log('Starting HTML parsing...');
                const parser = new DOMParser();
                const doc = parser.parseFromString(htmlContent, 'text/html');
                
                // Extract personal info
                const name = doc.querySelector('.profile-name')?.textContent?.trim() || '';
                const title = doc.querySelector('.profile-title')?.textContent?.trim() || '';
                
                // Extract summary
                const summaryElements = doc.querySelectorAll('.summary-text');
                let summary = '';
                summaryElements.forEach(el => {
                    if (el.textContent) {
                        summary += el.textContent.trim() + ' ';
                    }
                });
                summary = summary.trim();
                
                // Extract contact info
                const contactItems = doc.querySelectorAll('.contact-text');
                const contacts = Array.from(contactItems).map(item => item.textContent?.trim() || '').filter(Boolean);
                
                // Extract experience
                const experienceItems = doc.querySelectorAll('.experience-item');
                const experience = [];
                experienceItems.forEach(item => {
                    const expTitle = item.querySelector('.experience-title')?.textContent?.trim();
                    const expCompany = item.querySelector('.experience-company')?.textContent?.trim();
                    
                    if (expTitle || expCompany) {
                        const bullets = item.querySelectorAll('.bullet-text');
                        const responsibilities = Array.from(bullets)
                            .map(bullet => bullet.textContent?.trim() || '')
                            .filter(Boolean);
                        
                        experience.push({
                            title: expTitle || '',
                            company: expCompany || '',
                            responsibilities: responsibilities
                        });
                    }
                });
                
                // Extract education
                const educationItems = doc.querySelectorAll('.education-item');
                const education = [];
                educationItems.forEach(item => {
                    const degree = item.querySelector('.education-degree')?.textContent?.trim();
                    const school = item.querySelector('.education-school')?.textContent?.trim();
                    
                    if (degree || school) {
                        education.push({
                            degree: degree || '',
                            school: school || ''
                        });
                    }
                });
                
                // Extract skills
                const skillItems = doc.querySelectorAll('.skill-item');
                const skills = [];
                skillItems.forEach(item => {
                    const skillName = item.querySelector('.skill-name')?.textContent?.trim();
                    const skillDetails = item.querySelector('.skill-details')?.textContent?.trim();
                    
                    if (skillName) {
                        const fillElement = item.querySelector('.skill-bar-fill');
                        let level = 50;
                        
                        if (fillElement && fillElement.style.width) {
                            const widthMatch = fillElement.style.width.match(/(\d+)/);
                            if (widthMatch) {
                                level = parseInt(widthMatch[1]) || 50;
                            }
                        }
                        
                        skills.push({
                            name: skillName,
                            level: level,
                            details: skillDetails || ''
                        });
                    }
                });
                
                // Extract languages
                const languageItems = doc.querySelectorAll('.language-item');
                const languages = [];
                languageItems.forEach(item => {
                    const langName = item.querySelector('.language-name')?.textContent?.trim();
                    
                    if (langName) {
                        const fillElement = item.querySelector('.language-bar-fill');
                        let level = 50;
                        
                        if (fillElement && fillElement.style.width) {
                            const widthMatch = fillElement.style.width.match(/(\d+)/);
                            if (widthMatch) {
                                level = parseInt(widthMatch[1]) || 50;
                            }
                        }
                        
                        languages.push({
                            name: langName,
                            level: level
                        });
                    }
                });
                
                // Update cvData
                cvData = {
                    personal: {
                        fullName: name,
                        jobTitle: title,
                        summary: summary,
                        photo: null
                    },
                    contact: {
                        location: contacts[0] || '',
                        email: contacts[1] || '',
                        linkedin: contacts[2] || '',
                        github: contacts[3] || ''
                    },
                    experience: experience,
                    education: education,
                    skills: skills,
                    languages: languages,
                    projects: []
                };
                
                console.log('HTML parsing completed successfully');
                
            } catch (error) {
                console.error('HTML parsing error:', error);
                throw new Error('Failed to parse HTML file: ' + error.message);
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing...');
            initializeSampleData();
            setupEventListeners();
            console.log('CV Builder initialized successfully');
        });
    </script>
</body>
</html>